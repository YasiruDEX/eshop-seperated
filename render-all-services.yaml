services:
  - type: web
    name: eshop-all-services
    env: docker
    plan: free
    branch: main
    dockerfilePath: ./Dockerfile
    dockerContext: .
    autoDeploy: true
    envVars:
      # Database URLs
      - key: AUTH_DATABASE_URL
        sync: false
      - key: CATALOGUE_DATABASE_URL
        sync: false
      - key: CHECKOUT_DATABASE_URL
        sync: false
      - key: CUSTOMER_DATABASE_URL
        sync: false
      - key: INVENTORY_DATABASE_URL
        sync: false
      - key: ORDER_DATABASE_URL
        sync: false
      - key: PAYMENT_DATABASE_URL
        sync: false
      - key: REVIEW_DATABASE_URL
        sync: false
      
      # JWT Secrets
      - key: JWT_SECRET
        generateValue: true
      
      # Service URLs (all localhost since in same container)
      - key: AUTH_SERVICE_URL
        value: http://localhost:6001
      - key: CATALOGUE_SERVICE_URL
        value: http://localhost:6002
      - key: REVIEW_SERVICE_URL
        value: http://localhost:6005
      - key: CHECKOUT_SERVICE_URL
        value: http://localhost:6004
      - key: ORDER_SERVICE_URL
        value: http://localhost:6009
      - key: CUSTOMER_SERVICE_URL
        value: http://localhost:6008
      - key: INVENTORY_SERVICE_URL
        value: http://localhost:6006
      - key: PAYMENT_SERVICE_URL
        value: http://localhost:6010
      
      # CORS
      - key: CORS_ALLOWED_ORIGINS
        value: https://eshop-seperated.vercel.app,https://eshop-seller.vercel.app
